___
数据库概述
===
参考资料：数据库系统概论（中国人民大学：王珊、杜小勇、陈红）MOOC   
2020.07.04  
符燚
***

<!-- TOC -->

- [1. 基础](#1-基础)
    - [1.1. 概念](#11-概念)
    - [1.2. 层次模型](#12-层次模型)
        - [1.2.1. 表示方法](#121-表示方法)
        - [1.2.2. 定义](#122-定义)
        - [1.2.3. 完整性约束条件](#123-完整性约束条件)
        - [1.2.4. 优点](#124-优点)
        - [1.2.5. 缺点](#125-缺点)
    - [1.3. 网状模型](#13-网状模型)
        - [1.3.1. 表示方法](#131-表示方法)
        - [1.3.2. 定义](#132-定义)
        - [1.3.3. 优点](#133-优点)
        - [1.3.4. 缺点](#134-缺点)
    - [1.4. 关系模型](#14-关系模型)
        - [1.4.1. 数据结构](#141-数据结构)
        - [1.4.2. 操作](#142-操作)
        - [1.4.3. 完整性约束条件](#143-完整性约束条件)
        - [1.4.4. 优点](#144-优点)
        - [1.4.5. 缺点](#145-缺点)
    - [1.5. 数据库系统的结构](#15-数据库系统的结构)
        - [1.5.1. 数据库系统模式](#151-数据库系统模式)
        - [1.5.2. 三级模式结构](#152-三级模式结构)
        - [1.5.3. 数据库的二级映像（mapping）功能与数据独立性](#153-数据库的二级映像mapping功能与数据独立性)
    - [1.6. 数据库系统的组成](#16-数据库系统的组成)

<!-- /TOC -->

# 1. 基础
## 1.1. 概念
* 数据（Data）：描述事物的符号记录
* 数据库（Database，DB）：长期储存在计算机内、有组织的、可共享的大量数据的集合。
    * 数据按一定的数据模型组织、描述和储存    
    * 可为各种用户共享、冗余度较小、易扩展  
    * 数据独立性较高  
* 数据库管理系统（DataBase Management System，DBMS）：科学的组织和存储数据、高效的获取和维护数据
* 数据库系统（DataBase System，DBS）
* 数据模型
    * 概念模型（信息模型）：按用户的观点对数据和信息建模，用于数据库设计
    * 逻辑模型：按计算机的观点对数据建模，用于DBMS实现。主要包括：网状模型、层次模型、关系模型、面向对象数据模型、对象关系数据模型、半结构化数据模型等
    * 物理模型：描述数据在系统内（磁盘上）的表示方法和存取方法
    * 数据模型的3个组成要素：数据模型的数据结构、数据操作和数据的完整性约束条件
## 1.2. 层次模型
* 用树形结构来表示各类实体以及实体间的联系 
* 属于格式化数据模型 
### 1.2.1. 表示方法
* 实体型：用记录类型描述，每个节点表示一个记录类型（实体）
* 属性：用字段描述，每个记录类型可包含若干个字段
* 联系：用节点之间的连线表示记录类型（实体）之间的一对多的父子联系
### 1.2.2. 定义
满足两个条件的基本层次联系的集合：  
* 有且只有一个结点没有双亲结点，这个节点被称为根节点
* 根以外的其他结点有且只有一个双亲节点
### 1.2.3. 完整性约束条件
* 无相应的双亲结点值就不能插入子女结点值
* 如果删除双亲结点值，则相应的子女结点值也被同时删除
* 更新操作时，应更新所有相应记录，以保证数据的一致性
### 1.2.4. 优点
* 层次模型的数据结构比较简单清晰
* 查询效率高，性能优于关系模型，不低于网状模型
* 层次数据模型提供了良好的完整性支持
### 1.2.5. 缺点
* 结点之间的多对多联系表示不自然
* 对插入和删除操作的限制多，应用程序的编写比较复杂
* 查询子女结点必须通过双亲节点
* 层次数据库的命令趋于程序化
## 1.3. 网状模型
* 采用网状结构来表示各类实体以及实体间的联系
* 属于格式化数据模型 
### 1.3.1. 表示方法
* 实体型：用记录类型描述，每个节点表示一个记录类型（实体）
* 属性：用字段描述，每个记录类型可包含若干个字段
* 联系：用节点之间的连线表示记录类型（实体）之间的一对多的父子联系
### 1.3.2. 定义
满足两个条件的基本层次联系的集合：  
* 允许一个以上的节点无双亲
* 一个节点可以有多于一个的双亲
### 1.3.3. 优点
* 能够更为直接地描述现实世界，如一个节点可以有多个双亲
* 具有良好的性能，存取效率高
### 1.3.4. 缺点
* 结构比较复杂，而且随着应用环境的扩大，数据库的结构就变得越来越复杂，不利于最终用户掌握
* DDL（数据定义语言）、DML（数据操纵语言）语言复杂，用户不容易使用
* 记录之间联系是通过存取路径实现的，应用程序必须选择存取路径，加重了程序员的负担
## 1.4. 关系模型
### 1.4.1. 数据结构
* 关系（Relation）：一个关系对应通常说的一张表
* 元组（Tuple）：表中的一行即为一个元组
* 属性（Attribute）：表中的一列即为一个属性，给每个属性起一个名称即为属性码
* 主码（Key）：也称码键。表中的某个属性组，它可以唯一确定一个元组
* 域（Domain）：是一组具有相同数据类型的值的集合。属性的取值范围来自某个域
* 分量：元组中的一个值
* 关系模式：对关系的描述
* 关系必须是规范化的，满足一定的规范条件。最基本的规范条件：关系的每一个分量必须是一个不可分的数据项，不允许表中还有表
### 1.4.2. 操作
* 数据操作是集合操作，操作对象和操作结果都是关系
* 存取路径对用户隐蔽，用户只需要指出”找什么“，不必详细描述说明”怎么找“  
提高了数据的独立性，提高了用户生产率
### 1.4.3. 完整性约束条件
* 关系模型确定的关系的两个不变性
    * 实体完整性
    * 参照完整性
* 用户定义的完整性
### 1.4.4. 优点
* 建立在严格的数学概念的基础上
* 概念单一
    * 实体对各类联系都用关系表示
    * 对数据的检索结果也是关系
* 关系模型的存取路径对用户透明
    * 具有更高的数据独立性，更好的安全保密性
    * 简化了程序员的工作和数据库开发建立的工作
### 1.4.5. 缺点
* 存取路径对用户透明，查询效率往往不如格式化数据模型
* 为提高性能，必须对用户的查询请求进行优化，增加了开发数据库管理系统的难度
## 1.5. 数据库系统的结构
* 从数据库应用开发人员角度看：数据库系统采用三级模式结构，是数据库系统内部的系统结构
* 从数据库最终用户角度看：  
数据库系统的结构有：单用户结构、主从式结构、分布式结构、客户—服务器、浏览器-应用服务器/数据库服务器
### 1.5.1. 数据库系统模式
* 模式（Schema）
    * 是对数据库逻辑结构和特征的描述
    * 是型的描述，不涉及具体值
    * 模式是相对稳定的
* 实例（Instance）
    * 数据库某一时刻的状态-模式的一个具体值
    * 同一模式可以有很多实例
    * 实例随数据库中的数据的更新而改变
### 1.5.2. 三级模式结构
* 外模式（External Schema）
    * 也称子模式或用户模式
        * 数据库用户使用的局部数据的逻辑结构和特征的描述
        * 数据库用户的数据视图，是与某一应用有关的数据的逻辑表示
    * 外模式与模式的关系
        * 外模式通常是模式的子集、一个模式可以有多个外模式   
        反映了不同的用户的应用需求、看待数据的方式、对数据保密的要求
        * 对模式中的某一数据，在不同的外模式中结构、类型、长度、保密级别等都可以不同
    * 一个外模式可以为多个应用系统所使用，一个应用程序只能使用一个外模式
    * 用途
        * 每个用户只能看见和访问所对应的外模式中的数据，简化用户视图
        * 保护数据库安全性的一个有力措施
* 模式（Schema）
    * 也称逻辑模式
        * 数据库中全体数据的逻辑结构和特征的描述
        * 所有用户的公共数据试图
    * 一般，某个应用的数据库有一个模式
    * 模式是数据库系统模式结构的中心
        * 与数据的物理存储细节和硬件环境无关
        * 与具体的应用程序、开发工具及高级程序设计语言无关
    * 定义模式
        * DDL定义数据的逻辑结构，以某种数据模型为基础。  
        数据记录由哪些数据项构成，数据项的名字、类型、取值范围等
        * 定义数据之间的联系
        * 定义与数据有关的安全性、完整性要求
* 内模式（Internal Schema）
    * 也称存储模式
    * 是数据物理结构和存储方式的描述
    * 是数据在数据库内部的表示方式
        * 记录的存储方式。如顺序存储、堆存储、hash方法存储等
        * 索引的组织方式。如B+树、Bitmap，hash
        * 数据是否压缩存储
        * 数据是否加密
        * 数据存储记录结构的规定-如定长/边长、记录是否可以跨页存放等        
    * 一个数据库只有一个内模式
### 1.5.3. 数据库的二级映像（mapping）功能与数据独立性
* 三个抽象层次的联系和转换
* **外模式/模式映像**
    * 对每一个外模式，有一个外模式/模式映像
    * 映像定义通常包含在各外模式的描述中
    * 保证数据的逻辑独立性
        * 当模式改变时，数据库管理员对外模式/模式映像做相应改变，使外模式保持不变
        * 应用程序是依据数据的外模式编写的，应用程序不必修改，保证了数据与程序的逻辑独立性，简称数据的逻辑独立性
* **内模式/模式映像**
    * 定义了数据全局逻辑结构与存储结构之间的对应关系
    * 数据库中内模式/模式映像是唯一的，该映像定义通常包含在模式描述中
    * 保证数据的物理独立性
        * 当数据的存储结构改变了（例如选用了另一种存储结构），数据库管理员修改模式/内模式映像，使模式保持不变
        * 模式不变，则应用程序不变。保证了数据与程序的物理独立性，简称数据的物理独立性
* 保证了应用程序的稳定性。除非应用需求本身发生变化，否则应用程序一般不需要修改
* 以程序为中心——发展为以数据为中心。具有了数据与程序之间的独立性，使得数据的定义和描述可以从应用程序中分离出去
* 数据的存取由数据库管理系统管理。简化了应用程序的编写、大大减少了应用程序的维护和修改
## 1.6. 数据库系统的组成
![数据库系统的组成](数据库系统的组成.jpg)

